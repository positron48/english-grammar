{
  "schema_version": "1.0.0",
  "id": "en.grammar.perfect_aspect_experience_result.present_perfect_vs_past",
  "section_id": "en.grammar.perfect_aspect_experience_result",
  "title": "Present Perfect vs Past Simple: decision rules",
  "title_short": "Present Perfect vs Past Simple",
  "description": "Четкие правила выбора между Present Perfect и Past Simple: законченное время, связь с настоящим, временные маркеры и вопросы-уточнения.",
  "ui_language": "ru",
  "target_language": "en",
  "level": "B1",
  "order": 0,
  "prerequisites": [
    "en.grammar.perfect_aspect_experience_result.duration_for_since_how"
  ],
  "concept_refs": [
    "finished_time_past_simple",
    "present_perfect_result_now",
    "time_markers_present_perfect_past_simple",
    "experience_vs_when_question",
    "open_closed_time_periods"
  ],
  "learning_objectives": [
    "Различать завершенное время и неопределенное время при выборе Past Simple vs Present Perfect.",
    "Использовать Present Perfect для результата/связи с настоящим и Past Simple для завершенных событий.",
    "Уверенно применять типичные временные маркеры обоих времен.",
    "Строить вопросы: опыт (Have you ever...?) и уточнение времени (When did...?)."
  ],
  "estimated_minutes": 25,
  "blocks": [
    {
      "id": "b1_theory_finished_time",
      "type": "theory",
      "title": "Главное правило выбора простое: если время завершено и названо, используем Past Simple. Это может быть конкретная дата, вчера, прошлым летом и т.д.",
      "theory": {
        "concept_id": "finished_time_past_simple",
        "content_md": "Главное правило выбора простое: **если время завершено и названо**, используем **Past Simple**. Это может быть конкретная дата, вчера, прошлым летом и т.д.\n\nЕсли **время не указано** и важен сам факт опыта/события (а не когда оно было), чаще используется **Present Perfect**. Вопрос к себе: *«Есть ли точка времени?»* Если да — Past Simple; если нет — Present Perfect.",
        "key_points": [
          "Названное завершенное время → Past Simple",
          "Время не указано → Present Perfect"
        ],
        "common_mistakes": [],
        "examples": [
          {
            "id": "ex1",
            "text": "I met her in 2019.",
            "translation": "Я встретил(а) ее в 2019 году.",
            "tags": [
              "past_simple",
              "finished_time"
            ]
          },
          {
            "id": "ex2",
            "text": "I've met her before.",
            "translation": "Я уже встречал(а) ее раньше.",
            "tags": [
              "present_perfect",
              "experience"
            ]
          }
        ]
      }
    },
    {
      "id": "b2_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q1",
          "q2"
        ],
        "show_answers_immediately": true
      }
    },
    {
      "id": "b2_theory_result_now",
      "type": "theory",
      "title": "Present Perfect часто используется, когда есть результат или связь с настоящим: прошлое событие влияет на текущую ситуацию. Past Simple просто фиксирует факт в прошлом — без актуального результата.",
      "theory": {
        "concept_id": "present_perfect_result_now",
        "content_md": "**Present Perfect** часто используется, когда есть **результат или связь с настоящим**: прошлое событие влияет на текущую ситуацию. **Past Simple** просто фиксирует факт в прошлом — без актуального результата.\n\nСравните: *I've lost my keys* (сейчас не могу открыть дверь) vs *I lost my keys yesterday* (сообщаю факт о вчерашнем дне).",
        "key_points": [
          "Present Perfect = результат/актуальность сейчас",
          "Past Simple = факт в прошлом без связи с настоящим"
        ],
        "common_mistakes": [],
        "examples": [
          {
            "id": "ex1",
            "text": "I've lost my keys, so I can't get in.",
            "translation": "Я потерял(а) ключи, поэтому не могу войти.",
            "tags": [
              "present_perfect",
              "result"
            ]
          },
          {
            "id": "ex2",
            "text": "I haven't finished the report yet.",
            "translation": "Я еще не закончил(а) отчет.",
            "tags": [
              "present_perfect",
              "negative",
              "yet"
            ]
          }
        ]
      }
    },
    {
      "id": "b3_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q13",
          "q14"
        ],
        "show_answers_immediately": true
      }
    },
    {
      "id": "b3_theory_time_markers",
      "type": "theory",
      "title": "Слова-маркеры часто подсказывают выбор времени. Для Present Perfect типичны ever, never, already, yet, just, before. Для Past Simple — yesterday, ago, last, in 2010, at 5 p.m.",
      "theory": {
        "concept_id": "time_markers_present_perfect_past_simple",
        "content_md": "Слова-маркеры часто подсказывают выбор времени. Для **Present Perfect** типичны **ever, never, already, yet, just, before**. Для **Past Simple** — **yesterday, ago, last, in 2010, at 5 p.m.**\n\nМаркеры не являются абсолютным правилом, но в учебной практике это надежная подсказка.",
        "key_points": [
          "ever/never/already/yet/just → Present Perfect",
          "yesterday/ago/last/in + year → Past Simple"
        ],
        "common_mistakes": [],
        "examples": [
          {
            "id": "ex1",
            "text": "Have you ever tried kimchi?",
            "translation": "Ты когда-нибудь пробовал(а) кимчи?",
            "tags": [
              "question",
              "ever"
            ]
          },
          {
            "id": "ex2",
            "text": "She has already sent the email.",
            "translation": "Она уже отправила письмо.",
            "tags": [
              "already",
              "present_perfect"
            ]
          },
          {
            "id": "ex3",
            "text": "We went there last summer.",
            "translation": "Мы ездили туда прошлым летом.",
            "tags": [
              "past_simple",
              "last"
            ]
          }
        ]
      }
    },
    {
      "id": "b4_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q25",
          "q26"
        ],
        "show_answers_immediately": true
      }
    },
    {
      "id": "b4_theory_questions_follow_up",
      "type": "theory",
      "title": "Вопрос об опыте в целом строится в Present Perfect: *Have you ever...?* Он не называет время. Но если мы уточняем когда/где/с кем, то сразу переходим в Past Simple.",
      "theory": {
        "concept_id": "experience_vs_when_question",
        "content_md": "Вопрос об **опыте в целом** строится в Present Perfect: *Have you ever...?* Он не называет время. Но если мы уточняем **когда/где/с кем**, то сразу переходим в Past Simple.\n\nЭто нормальный переход внутри одного разговора: сначала — опыт, затем — детали.",
        "key_points": [
          "Have you ever...? → опыт без времени",
          "When/Where did...? → Past Simple для деталей"
        ],
        "common_mistakes": [],
        "examples": [
          {
            "id": "ex1",
            "text": "Have you ever visited Rome?",
            "translation": "Ты когда-нибудь бывал(а) в Риме?",
            "tags": [
              "question",
              "experience"
            ]
          },
          {
            "id": "ex2",
            "text": "When did you visit Rome?",
            "translation": "Когда ты был(а) в Риме?",
            "tags": [
              "question",
              "past_simple"
            ]
          }
        ]
      }
    },
    {
      "id": "b5_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q37",
          "q38"
        ],
        "show_answers_immediately": true
      }
    },
    {
      "id": "b5_theory_open_closed_time",
      "type": "theory",
      "title": "Если период времени еще продолжается (today, this week, this month), часто используется Present Perfect. Если период уже завершен, выбираем Past Simple.",
      "theory": {
        "concept_id": "open_closed_time_periods",
        "content_md": "Если период времени **еще продолжается** (today, this week, this month), часто используется **Present Perfect**. Если период **уже завершен**, выбираем **Past Simple**.\n\nВажно учитывать контекст: *this morning* может быть и «открытым», и «закрытым», в зависимости от того, утро еще идет или уже закончилось.",
        "key_points": [
          "Открытый период → Present Perfect",
          "Закрытый период → Past Simple"
        ],
        "common_mistakes": [],
        "examples": [
          {
            "id": "ex1",
            "text": "I've had three meetings this morning.",
            "translation": "У меня было три встречи сегодня утром.",
            "tags": [
              "open_period",
              "present_perfect"
            ]
          },
          {
            "id": "ex2",
            "text": "I had three meetings yesterday morning.",
            "translation": "У меня было три встречи вчера утром.",
            "tags": [
              "closed_period",
              "past_simple"
            ]
          },
          {
            "id": "ex3",
            "text": "I haven't had any calls today.",
            "translation": "Сегодня у меня не было ни одного звонка.",
            "tags": [
              "negative",
              "today"
            ]
          }
        ]
      }
    },
    {
      "id": "b6_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q49",
          "q50"
        ],
        "show_answers_immediately": true
      }
    }
  ],
  "question_bank": {
    "questions": [
      {
        "id": "q1",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **I ___ him yesterday.**",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 1,
        "choices": [
          {
            "id": "a",
            "text": "saw",
            "feedback": "Есть завершенное время (yesterday) → Past Simple."
          },
          {
            "id": "b",
            "text": "have seen",
            "feedback": "Present Perfect не используется с yesterday."
          },
          {
            "id": "c",
            "text": "see",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "С маркером завершенного времени **yesterday** используется Past Simple: **I saw him yesterday.**"
      },
      {
        "id": "q2",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **We ___ to Madrid in 2018.** (go)",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 2,
        "correct_answer": "went",
        "explanation": "Есть конкретное завершенное время (in 2018), поэтому Past Simple: **went**."
      },
      {
        "id": "q3",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **She ___ that movie before.**",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "has seen",
            "feedback": "Нет конкретного времени, важен факт опыта → Present Perfect."
          },
          {
            "id": "b",
            "text": "saw",
            "feedback": "Past Simple нужен с завершенным временем."
          },
          {
            "id": "c",
            "text": "sees",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "Время не указано, поэтому выбираем Present Perfect: **has seen**."
      },
      {
        "id": "q4",
        "type": "true_false",
        "prompt": "Верно или неверно: Present Perfect используется с завершенными временными указателями вроде *last week*.",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 1,
        "correct_answer": "false",
        "explanation": "С завершенными маркерами (last week, yesterday) используется Past Simple, не Present Perfect."
      },
      {
        "id": "q5",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите лучшую правку:\n\n**I have met her two days ago.**",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "I met her two days ago.",
            "feedback": "Есть завершенное время → Past Simple."
          },
          {
            "id": "b",
            "text": "I have met her before two days ago.",
            "feedback": "Present Perfect с ago не используется."
          },
          {
            "id": "c",
            "text": "I met her before.",
            "feedback": "Можно, но это меняет смысл: время не уточняется."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **two days ago** нужен Past Simple: **I met her two days ago.**"
      },
      {
        "id": "q6",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **___ you ever ___ sushi?**",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "Have / tried",
            "feedback": "Вопрос об опыте без времени → Present Perfect."
          },
          {
            "id": "b",
            "text": "Did / try",
            "feedback": "Past Simple требует конкретного времени."
          },
          {
            "id": "c",
            "text": "Are / trying",
            "feedback": "Это вопрос о процессе сейчас."
          }
        ],
        "correct_answer": "a",
        "explanation": "Без указания времени спрашиваем об опыте: **Have you ever tried...?**"
      },
      {
        "id": "q7",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **He ___ his phone last night.** (lose)",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 2,
        "correct_answer": "lost",
        "explanation": "Есть завершенное время (last night), поэтому Past Simple: **lost**."
      },
      {
        "id": "q8",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **They ___ to Japan.**",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "have been",
            "feedback": "Время не указано — факт опыта."
          },
          {
            "id": "b",
            "text": "went",
            "feedback": "Past Simple нужен с указанием времени."
          },
          {
            "id": "c",
            "text": "go",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "Нет указания времени, важен факт опыта, поэтому **have been**."
      },
      {
        "id": "q9",
        "type": "true_false",
        "prompt": "Верно или неверно: если время не упомянуто, Present Perfect часто возможен.",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Отсутствие конкретного времени обычно ведет к Present Perfect (опыт/результат)."
      },
      {
        "id": "q10",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите лучшую правку:\n\n**She has arrived at 6 p.m.**",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "She arrived at 6 p.m.",
            "feedback": "Конкретное время → Past Simple."
          },
          {
            "id": "b",
            "text": "She has arrived before 6 p.m.",
            "feedback": "Это меняет смысл и время."
          },
          {
            "id": "c",
            "text": "She arrives at 6 p.m.",
            "feedback": "Это регулярное действие."
          }
        ],
        "correct_answer": "a",
        "explanation": "С конкретным временем (at 6 p.m.) используем Past Simple: **arrived**."
      },
      {
        "id": "q11",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **I have ___ that book already.** (читать)",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 2,
        "correct_answer": "read",
        "explanation": "Already без конкретного времени тянет к Present Perfect: **have read**."
      },
      {
        "id": "q12",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **My parents ___ in 2005.**",
        "theory_block_id": "b1_theory_finished_time",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "moved",
            "feedback": "Указан год → Past Simple."
          },
          {
            "id": "b",
            "text": "have moved",
            "feedback": "Present Perfect не используется с in + year."
          },
          {
            "id": "c",
            "text": "move",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "С конкретным годом используем Past Simple: **moved**."
      },
      {
        "id": "q13",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **I can't open the window. I ___ the handle.**",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "have broken",
            "feedback": "Результат важен сейчас → Present Perfect."
          },
          {
            "id": "b",
            "text": "broke",
            "feedback": "Past Simple без связи с настоящим."
          },
          {
            "id": "c",
            "text": "break",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "Есть текущий результат (не могу открыть), поэтому **have broken**."
      },
      {
        "id": "q14",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **I ___ the handle yesterday, but I fixed it.**",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "broke",
            "feedback": "Есть завершенное время (yesterday)."
          },
          {
            "id": "b",
            "text": "have broken",
            "feedback": "Present Perfect не используется с yesterday."
          },
          {
            "id": "c",
            "text": "break",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **yesterday** используем Past Simple: **broke**."
      },
      {
        "id": "q15",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **She's not hungry. She has ___ lunch.** (eat)",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 2,
        "correct_answer": "eaten",
        "explanation": "Есть текущий результат (не голодна) → Present Perfect: **has eaten**."
      },
      {
        "id": "q16",
        "type": "true_false",
        "prompt": "Верно или неверно: Past Simple используется, когда результат важен сейчас.",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 1,
        "correct_answer": "false",
        "explanation": "Результат, актуальный сейчас, обычно выражается Present Perfect."
      },
      {
        "id": "q17",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите лучшую правку:\n\n**I've lost my wallet yesterday.**",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "I lost my wallet yesterday.",
            "feedback": "Есть завершенное время → Past Simple."
          },
          {
            "id": "b",
            "text": "I've lost my wallet lately.",
            "feedback": "Меняется смысл и маркер времени."
          },
          {
            "id": "c",
            "text": "I have lost my wallet now.",
            "feedback": "Now редко используется с Present Perfect."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **yesterday** нужен Past Simple: **I lost my wallet yesterday.**"
      },
      {
        "id": "q18",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **The room looks great. They ___ it.**",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "have cleaned",
            "feedback": "Результат виден сейчас → Present Perfect."
          },
          {
            "id": "b",
            "text": "cleaned",
            "feedback": "Past Simple без результата сейчас."
          },
          {
            "id": "c",
            "text": "clean",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "Есть текущий результат (комната выглядит отлично), поэтому **have cleaned**."
      },
      {
        "id": "q19",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **We have ___ the report, so we can send it now.** (finish)",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 2,
        "correct_answer": "finished",
        "explanation": "Результат важен сейчас (можем отправить), поэтому Present Perfect: **have finished**."
      },
      {
        "id": "q20",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **We ___ the report last Friday.**",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "finished",
            "feedback": "Завершенное время → Past Simple."
          },
          {
            "id": "b",
            "text": "have finished",
            "feedback": "Present Perfect не используется с last Friday."
          },
          {
            "id": "c",
            "text": "finish",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **last Friday** используем Past Simple: **finished**."
      },
      {
        "id": "q21",
        "type": "true_false",
        "prompt": "Верно или неверно: Present Perfect часто отвечает на вопрос «Что изменилось к настоящему моменту?».",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Present Perfect акцентирует результат и изменения, важные сейчас."
      },
      {
        "id": "q22",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите лучшую правку:\n\n**I am tired because I have slept late last night.**",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "I am tired because I slept late last night.",
            "feedback": "Last night требует Past Simple."
          },
          {
            "id": "b",
            "text": "I am tired because I have slept late.",
            "feedback": "Время не указано, но меняется смысл."
          },
          {
            "id": "c",
            "text": "I was tired because I have slept late last night.",
            "feedback": "Время все равно некорректно."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **last night** нужен Past Simple: **slept**."
      },
      {
        "id": "q23",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **I've just ___ the email.**",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "sent",
            "feedback": "Just → Present Perfect."
          },
          {
            "id": "b",
            "text": "send",
            "feedback": "Нужна прошедшая форма."
          },
          {
            "id": "c",
            "text": "sending",
            "feedback": "Нужна форма V3 после have."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **just** обычно используется Present Perfect: **have just sent**."
      },
      {
        "id": "q24",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **He has ___ the message already, but he hasn't replied yet.** (прочитать)",
        "theory_block_id": "b2_theory_result_now",
        "difficulty": 2,
        "correct_answer": "read",
        "explanation": "Already без конкретного времени → Present Perfect: **has read**."
      },
      {
        "id": "q25",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **Have you ___ been to Canada?**",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "ever",
            "feedback": "Ever — маркер Present Perfect."
          },
          {
            "id": "b",
            "text": "never",
            "feedback": "Never меняет смысл на отрицательный."
          },
          {
            "id": "c",
            "text": "yesterday",
            "feedback": "С yesterday нужен Past Simple."
          }
        ],
        "correct_answer": "a",
        "explanation": "Ever типично используется в вопросах Present Perfect: **Have you ever...**"
      },
      {
        "id": "q26",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **She ___ finished the task yet.**",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "hasn't",
            "feedback": "Yet в отрицаниях → Present Perfect."
          },
          {
            "id": "b",
            "text": "didn't",
            "feedback": "Past Simple не сочетается с yet."
          },
          {
            "id": "c",
            "text": "wasn't",
            "feedback": "Нужна форма совершенного времени."
          }
        ],
        "correct_answer": "a",
        "explanation": "Yet в отрицании обычно с Present Perfect: **hasn't finished**."
      },
      {
        "id": "q27",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **I ___ him two hours ago.** (see)",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "correct_answer": "saw",
        "explanation": "Ago указывает на завершенное время → Past Simple: **saw**."
      },
      {
        "id": "q28",
        "type": "true_false",
        "prompt": "Верно или неверно: слово *already* обычно используется с Past Simple.",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 1,
        "correct_answer": "false",
        "explanation": "Already чаще сочетается с Present Perfect."
      },
      {
        "id": "q29",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите лучшую правку:\n\n**We have arrived last night.**",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "We arrived last night.",
            "feedback": "Last night → Past Simple."
          },
          {
            "id": "b",
            "text": "We have arrived lately.",
            "feedback": "Меняется смысл."
          },
          {
            "id": "c",
            "text": "We arrived already.",
            "feedback": "Можно, но не исправляет проблему с last night."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **last night** нужен Past Simple: **arrived**."
      },
      {
        "id": "q30",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **They have just ___.**",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "left",
            "feedback": "Just → Present Perfect + V3."
          },
          {
            "id": "b",
            "text": "leave",
            "feedback": "Нужна форма V3."
          },
          {
            "id": "c",
            "text": "leaving",
            "feedback": "Нужна форма V3 после have."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **just** используем Present Perfect: **have just left**."
      },
      {
        "id": "q31",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **He has ___ told me about it.** (никогда)",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "correct_answer": "never",
        "explanation": "Never — типичный маркер Present Perfect: **has never told**."
      },
      {
        "id": "q32",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **I ___ that film before.**",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "have seen",
            "feedback": "Before без времени → Present Perfect."
          },
          {
            "id": "b",
            "text": "saw",
            "feedback": "Past Simple нужен с указанием времени."
          },
          {
            "id": "c",
            "text": "see",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "Before без точного времени → Present Perfect: **have seen**."
      },
      {
        "id": "q33",
        "type": "true_false",
        "prompt": "Верно или неверно: выражения вроде *last week* — сильный сигнал для Past Simple.",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Last week обозначает завершенный период, поэтому Past Simple."
      },
      {
        "id": "q34",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите лучшую правку:\n\n**Have you met her yesterday?**",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "Did you meet her yesterday?",
            "feedback": "Yesterday → Past Simple."
          },
          {
            "id": "b",
            "text": "Have you met her before?",
            "feedback": "Меняется смысл."
          },
          {
            "id": "c",
            "text": "Do you meet her yesterday?",
            "feedback": "Грамматика неверна."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **yesterday** вопрос строится в Past Simple: **Did you meet...**"
      },
      {
        "id": "q35",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **She ___ in 2010.** (graduate)",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "correct_answer": "graduated",
        "explanation": "In + year → завершенное время, поэтому Past Simple: **graduated**."
      },
      {
        "id": "q36",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **We haven't ___ the bill yet.**",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "paid",
            "feedback": "Yet в отрицании → Present Perfect."
          },
          {
            "id": "b",
            "text": "pay",
            "feedback": "Нужна форма V3."
          },
          {
            "id": "c",
            "text": "paying",
            "feedback": "Нужна форма V3 после have."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **yet** в отрицании используется Present Perfect: **haven't paid**."
      },
      {
        "id": "q37",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **___ you ever ___ skydiving?**",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "Have / tried",
            "feedback": "Вопрос об опыте без времени."
          },
          {
            "id": "b",
            "text": "Did / try",
            "feedback": "Past Simple нужен с конкретным временем."
          },
          {
            "id": "c",
            "text": "Are / trying",
            "feedback": "Это вопрос о процессе сейчас."
          }
        ],
        "correct_answer": "a",
        "explanation": "Опыт без времени спрашиваем в Present Perfect: **Have you ever tried...?**"
      },
      {
        "id": "q38",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **When ___ you ___ it?**",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "did / do",
            "feedback": "When → Past Simple."
          },
          {
            "id": "b",
            "text": "have / done",
            "feedback": "When требует Past Simple."
          },
          {
            "id": "c",
            "text": "were / doing",
            "feedback": "Неверная форма для факта."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **when** используем Past Simple: **When did you do it?**"
      },
      {
        "id": "q39",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **Where ___ you buy it?** (do)",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 2,
        "correct_answer": "did",
        "explanation": "Where — уточнение времени/места, поэтому Past Simple: **did**."
      },
      {
        "id": "q40",
        "type": "true_false",
        "prompt": "Верно или неверно: вопрос с *when* обычно строится в Present Perfect.",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 1,
        "correct_answer": "false",
        "explanation": "When требует Past Simple, потому что запрашивает конкретное время."
      },
      {
        "id": "q41",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите лучшую правку:\n\n**Have you seen that film last weekend?**",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "Did you see that film last weekend?",
            "feedback": "Last weekend → Past Simple."
          },
          {
            "id": "b",
            "text": "Have you ever seen that film?",
            "feedback": "Меняется смысл: опыт без времени."
          },
          {
            "id": "c",
            "text": "Do you see that film last weekend?",
            "feedback": "Грамматика неверна."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **last weekend** вопрос должен быть в Past Simple: **Did you see...?**"
      },
      {
        "id": "q42",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **Have you ever met him? — Yes, I ___ him at a conference in 2022.**",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "met",
            "feedback": "Деталь с конкретным временем → Past Simple."
          },
          {
            "id": "b",
            "text": "have met",
            "feedback": "Present Perfect не сочетается с in 2022."
          },
          {
            "id": "c",
            "text": "meet",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "Уточнение времени переводит ответ в Past Simple: **met**."
      },
      {
        "id": "q43",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **Have you ever ___ sushi?** (try)",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 1,
        "correct_answer": "tried",
        "explanation": "После **have you ever** используется V3: **tried**."
      },
      {
        "id": "q44",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **What time ___ you arrive?**",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "did",
            "feedback": "What time требует Past Simple."
          },
          {
            "id": "b",
            "text": "do",
            "feedback": "Нужна прошедшая форма."
          },
          {
            "id": "c",
            "text": "have",
            "feedback": "Present Perfect не используется с what time."
          }
        ],
        "correct_answer": "a",
        "explanation": "What time задает конкретное время → Past Simple: **did**."
      },
      {
        "id": "q45",
        "type": "true_false",
        "prompt": "Верно или неверно: нормально сначала спросить в Present Perfect, а затем перейти в Past Simple для деталей.",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Это стандартный переход: опыт → детали с конкретным временем."
      },
      {
        "id": "q46",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите лучшую правку:\n\n**When have you moved to Berlin?**",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "When did you move to Berlin?",
            "feedback": "When требует Past Simple."
          },
          {
            "id": "b",
            "text": "Have you moved to Berlin?",
            "feedback": "Меняется смысл: опыт без времени."
          },
          {
            "id": "c",
            "text": "When are you moving to Berlin?",
            "feedback": "Это про будущее."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **when** используем Past Simple: **did you move**."
      },
      {
        "id": "q47",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **I ___ there in July.** (be)",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 2,
        "correct_answer": "was",
        "explanation": "In July — завершенное время, поэтому Past Simple: **was**."
      },
      {
        "id": "q48",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **Have you ever been to Paris? — No, I ___.**",
        "theory_block_id": "b4_theory_questions_follow_up",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "haven't",
            "feedback": "Отрицание в Present Perfect."
          },
          {
            "id": "b",
            "text": "didn't",
            "feedback": "Past Simple требует конкретного времени."
          },
          {
            "id": "c",
            "text": "wasn't",
            "feedback": "Неверная форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "Ответ на опыт без времени — Present Perfect: **No, I haven't.**"
      },
      {
        "id": "q49",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **I ___ three emails today.**",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "have sent",
            "feedback": "Today — открытый период → Present Perfect."
          },
          {
            "id": "b",
            "text": "sent",
            "feedback": "Past Simple используется для завершенного периода."
          },
          {
            "id": "c",
            "text": "send",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "Период today еще не завершен, поэтому Present Perfect: **have sent**."
      },
      {
        "id": "q50",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **I ___ three emails yesterday.**",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "sent",
            "feedback": "Yesterday — завершенный период → Past Simple."
          },
          {
            "id": "b",
            "text": "have sent",
            "feedback": "Present Perfect не используется с yesterday."
          },
          {
            "id": "c",
            "text": "send",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **yesterday** используем Past Simple: **sent**."
      },
      {
        "id": "q51",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **She has ___ two meetings this week.** (have)",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 2,
        "correct_answer": "had",
        "explanation": "This week еще продолжается, поэтому Present Perfect: **has had**."
      },
      {
        "id": "q52",
        "type": "true_false",
        "prompt": "Верно или неверно: выражение *this week* часто допускает Present Perfect, если неделя не закончилась.",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Открытый период допускает Present Perfect."
      },
      {
        "id": "q53",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите лучшую правку:\n\n**I have seen him last week.**",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "I saw him last week.",
            "feedback": "Last week → Past Simple."
          },
          {
            "id": "b",
            "text": "I have seen him recently.",
            "feedback": "Меняется смысл и время."
          },
          {
            "id": "c",
            "text": "I saw him recently.",
            "feedback": "Это возможно, но не исправляет маркер last week."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **last week** используем Past Simple: **saw**."
      },
      {
        "id": "q54",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **It's only 10 a.m., and I ___ two coffees already.**",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "have had",
            "feedback": "Открытый период + already → Present Perfect."
          },
          {
            "id": "b",
            "text": "had",
            "feedback": "Past Simple не нужен без завершенного времени."
          },
          {
            "id": "c",
            "text": "have",
            "feedback": "Нужна форма V3 после have."
          }
        ],
        "correct_answer": "a",
        "explanation": "Период еще открыт (утро продолжается), поэтому **have had**."
      },
      {
        "id": "q55",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **We have ___ to the museum this morning (it's still morning).** (go)",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 2,
        "correct_answer": "gone",
        "explanation": "Утро еще продолжается, поэтому допустим Present Perfect: **have gone**."
      },
      {
        "id": "q56",
        "type": "true_false",
        "prompt": "Верно или неверно: с выражением *yesterday morning* обычно используется Past Simple.",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Yesterday morning — завершенный период, поэтому Past Simple."
      },
      {
        "id": "q57",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите лучшую правку:\n\n**She has called me this morning, but it's already evening.**",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "She called me this morning, but it's already evening.",
            "feedback": "Период уже закрыт, нужен Past Simple."
          },
          {
            "id": "b",
            "text": "She has called me today, but it's already evening.",
            "feedback": "Today может быть открыт, но меняется фокус."
          },
          {
            "id": "c",
            "text": "She called me today, but it's already evening.",
            "feedback": "Возможно, но меняет смысл с this morning."
          }
        ],
        "correct_answer": "a",
        "explanation": "Раз утро уже закончилось, используем Past Simple: **called**."
      },
      {
        "id": "q58",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **I've had a busy day so far, but I ___ lunch yet.**",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "haven't had",
            "feedback": "Yet + отрицание → Present Perfect."
          },
          {
            "id": "b",
            "text": "didn't have",
            "feedback": "Past Simple не сочетается с yet."
          },
          {
            "id": "c",
            "text": "wasn't",
            "feedback": "Неверная форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "С **yet** в отрицании используется Present Perfect: **haven't had**."
      },
      {
        "id": "q59",
        "type": "fill_blank",
        "prompt": "Заполните пропуск: **They have ___ a lot this month.** (travel)",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 2,
        "correct_answer": "traveled",
        "explanation": "This month еще не завершен, поэтому Present Perfect: **have traveled**."
      },
      {
        "id": "q60",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: **We ___ the audit in March 2020.**",
        "theory_block_id": "b5_theory_open_closed_time",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "finished",
            "feedback": "In March 2020 — завершенное время."
          },
          {
            "id": "b",
            "text": "have finished",
            "feedback": "Present Perfect не используется с in + year."
          },
          {
            "id": "c",
            "text": "finish",
            "feedback": "Нужна прошедшая форма."
          }
        ],
        "correct_answer": "a",
        "explanation": "С конкретным временем используем Past Simple: **finished**."
      }
    ]
  },
  "chapter_test": {
    "num_questions": 10,
    "pool_question_ids": [
      "q3",
      "q4",
      "q5",
      "q6",
      "q7",
      "q8",
      "q9",
      "q10",
      "q11",
      "q12",
      "q15",
      "q16",
      "q17",
      "q18",
      "q19",
      "q20",
      "q21",
      "q22",
      "q23",
      "q24",
      "q27",
      "q28",
      "q29",
      "q30",
      "q31",
      "q32",
      "q33",
      "q34",
      "q35",
      "q36",
      "q39",
      "q40",
      "q41",
      "q42",
      "q43",
      "q44",
      "q45",
      "q46",
      "q47",
      "q48",
      "q51",
      "q52",
      "q53",
      "q54",
      "q55",
      "q56",
      "q57",
      "q58",
      "q59",
      "q60"
    ],
    "selection_strategy": {
      "type": "stratified_by_theory_block",
      "min_per_theory_block": 1,
      "avoid_recent_window": 30,
      "difficulty_mix": {
        "easy": 3,
        "medium": 5,
        "hard": 2
      }
    }
  },
  "meta": {
    "version": "2026.01.16",
    "updated_at": "2026-01-20T14:11:09Z",
    "source": "llm"
  }
}
