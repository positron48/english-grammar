{
  "schema_version": "1.0.0",
  "id": "en.grammar.perfect_aspect_experience_result.past_perfect_past_before",
  "section_id": "en.grammar.perfect_aspect_experience_result",
  "title": "Past Perfect: “past before another past”",
  "title_short": "Past Perfect: past before past",
  "description": "Разбираем, как описывать событие, которое произошло раньше другого события в прошлом, и как отличать Past Perfect от Past Simple.",
  "ui_language": "ru",
  "target_language": "en",
  "level": "B1",
  "order": 0,
  "prerequisites": [
    "en.grammar.perfect_aspect_experience_result.present_perfect_vs_past"
  ],
  "concept_refs": [
    "past_perfect_form",
    "past_perfect_sequence",
    "past_perfect_time_markers",
    "past_perfect_vs_past_simple",
    "past_perfect_questions_negatives",
    "past_perfect_narrative"
  ],
  "learning_objectives": [
    "Понимать смысл Past Perfect как \"раньше другого прошлого\"",
    "Уметь строить утвердительные, отрицательные и вопросительные формы",
    "Различать Past Perfect и Past Simple в сложных предложениях"
  ],
  "estimated_minutes": 25,
  "blocks": [
    {
      "id": "b1_theory_form_usage",
      "type": "theory",
      "title": "Past Perfect образуется с had + V3 и показывает, что действие завершилось до другого момента в прошлом. Формально это \"прошедшее в прошлом\": мы говорим не просто о событии, а о том, что оно было уже закончено к другой точке прошлого.",
      "theory": {
        "concept_id": "past_perfect_form",
        "content_md": "Past Perfect образуется с **had + V3** и показывает, что действие завершилось **до** другого момента в прошлом. Формально это \"прошедшее в прошлом\": мы говорим не просто о событии, а о том, что оно было уже закончено к другой точке прошлого.",
        "key_points": [
          "Форма одинакова для всех лиц: I/you/he/we/they **had + V3**",
          "Past Perfect указывает на завершенность раньше другого прошлого события"
        ],
        "common_mistakes": [],
        "examples": [
          {
            "id": "ex1",
            "text": "She had finished the report before noon.",
            "translation": "Она закончила отчет до полудня.",
            "tags": [
              "affirmative"
            ]
          },
          {
            "id": "ex2",
            "text": "We hadn’t met him before that day.",
            "translation": "Мы не встречали его до того дня.",
            "tags": [
              "negative"
            ]
          }
        ]
      }
    },
    {
      "id": "b2_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q1",
          "q2"
        ],
        "show_answers_immediately": true
      }
    },
    {
      "id": "b2_theory_sequence_before_past",
      "type": "theory",
      "title": "Past Perfect нужен, когда в прошлом есть два события, и одно произошло раньше другого. Более позднее событие обычно ставится в Past Simple, а более раннее — в Past Perfect. Так мы фиксируем порядок, даже если он не совпадает с порядком в предложении.",
      "theory": {
        "concept_id": "past_perfect_sequence",
        "content_md": "Past Perfect нужен, когда в прошлом есть **два события**, и одно произошло раньше другого. Более позднее событие обычно ставится в Past Simple, а более раннее — в Past Perfect. Так мы фиксируем порядок, даже если он не совпадает с порядком в предложении.",
        "key_points": [],
        "common_mistakes": [],
        "examples": [
          {
            "id": "ex1",
            "text": "When I arrived, the train had already left.",
            "translation": "Когда я приехал, поезд уже ушел.",
            "tags": [
              "affirmative"
            ]
          },
          {
            "id": "ex2",
            "text": "Had you ever visited Paris before you moved there?",
            "translation": "Ты когда-нибудь бывал в Париже до того, как переехал туда?",
            "tags": [
              "question"
            ]
          }
        ]
      }
    },
    {
      "id": "b3_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q13",
          "q14"
        ],
        "show_answers_immediately": true
      }
    },
    {
      "id": "b3_theory_time_markers",
      "type": "theory",
      "title": "Частые маркеры Past Perfect: already, just, never, by the time, before, after. Они показывают, что к определенному моменту в прошлом действие уже произошло или еще не произошло.",
      "theory": {
        "concept_id": "past_perfect_time_markers",
        "content_md": "Частые маркеры Past Perfect: **already**, **just**, **never**, **by the time**, **before**, **after**. Они показывают, что к определенному моменту в прошлом действие уже произошло или еще не произошло.",
        "key_points": [],
        "common_mistakes": [],
        "examples": [
          {
            "id": "ex1",
            "text": "By the time we got home, the kids had fallen asleep.",
            "translation": "К тому времени, как мы вернулись домой, дети уже уснули.",
            "tags": [
              "affirmative"
            ]
          },
          {
            "id": "ex2",
            "text": "After she had locked the door, she realized she forgot the keys inside.",
            "translation": "После того как она заперла дверь, она поняла, что забыла ключи внутри.",
            "tags": [
              "affirmative"
            ]
          }
        ]
      }
    },
    {
      "id": "b4_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q25",
          "q26"
        ],
        "show_answers_immediately": true
      }
    },
    {
      "id": "b4_theory_contrast_past_simple",
      "type": "theory",
      "title": "Если последовательность понятна из контекста или есть указание времени, можно использовать два Past Simple. Past Perfect нужен, когда важно подчеркнуть, что одно событие уже завершилось к моменту другого.",
      "theory": {
        "concept_id": "past_perfect_vs_past_simple",
        "content_md": "Если последовательность понятна из контекста или есть указание времени, можно использовать два Past Simple. Past Perfect нужен, когда важно подчеркнуть, что одно событие **уже завершилось** к моменту другого.",
        "key_points": [],
        "common_mistakes": [
          {
            "wrong": "When I arrived, the train left.",
            "right": "When I arrived, the train had left.",
            "why": "Сначала поезд ушел, потом я приехал. Нужно Past Perfect для более раннего события."
          }
        ],
        "examples": [
          {
            "id": "ex1",
            "text": "I called him after I finished the meeting.",
            "translation": "Я позвонил ему после того, как закончил встречу.",
            "tags": [
              "affirmative"
            ]
          },
          {
            "id": "ex2",
            "text": "I called him after I had finished the meeting.",
            "translation": "Я позвонил ему после того, как уже закончил встречу.",
            "tags": [
              "affirmative"
            ]
          }
        ]
      }
    },
    {
      "id": "b5_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q37",
          "q38"
        ],
        "show_answers_immediately": true
      }
    },
    {
      "id": "b5_theory_questions_negatives",
      "type": "theory",
      "title": "Вопросы строятся с Had + subject + V3? Отрицание: hadn’t + V3. Важно не ставить did в Past Perfect и не использовать V2 вместо V3.",
      "theory": {
        "concept_id": "past_perfect_questions_negatives",
        "content_md": "Вопросы строятся с **Had + subject + V3?** Отрицание: **hadn’t + V3**. Важно не ставить did в Past Perfect и не использовать V2 вместо V3.",
        "key_points": [],
        "common_mistakes": [],
        "examples": [
          {
            "id": "ex1",
            "text": "Had he finished the task before the deadline?",
            "translation": "Он закончил задачу до дедлайна?",
            "tags": [
              "question"
            ]
          },
          {
            "id": "ex2",
            "text": "They hadn’t seen the movie before the sequel came out.",
            "translation": "Они не видели этот фильм до выхода сиквела.",
            "tags": [
              "negative"
            ]
          }
        ]
      }
    },
    {
      "id": "b6_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q49",
          "q50"
        ],
        "show_answers_immediately": true
      }
    },
    {
      "id": "b6_theory_narrative_context",
      "type": "theory",
      "title": "В рассказах Past Perfect помогает вводить фон и \"флэшбек\": основная линия идет в Past Simple, а более ранние события обозначаются Past Perfect. Это делает историю понятной и логичной.",
      "theory": {
        "concept_id": "past_perfect_narrative",
        "content_md": "В рассказах Past Perfect помогает вводить фон и \"флэшбек\": основная линия идет в Past Simple, а более ранние события обозначаются Past Perfect. Это делает историю понятной и логичной.",
        "key_points": [],
        "common_mistakes": [],
        "examples": [
          {
            "id": "ex1",
            "text": "She moved to Madrid in 2019. She had studied Spanish for two years before that.",
            "translation": "Она переехала в Мадрид в 2019 году. До этого она два года учила испанский.",
            "tags": [
              "affirmative"
            ]
          }
        ]
      }
    },
    {
      "id": "b7_quiz_after_block",
      "type": "quiz_inline",
      "title": "Проверка знаний",
      "quiz_inline": {
        "question_ids": [
          "q61",
          "q62"
        ],
        "show_answers_immediately": true
      }
    }
  ],
  "question_bank": {
    "questions": [
      {
        "id": "q1",
        "type": "mcq_single",
        "prompt": "Выберите правильную форму: She ___ already ___ the email before lunch.",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had sent"
          },
          {
            "id": "b",
            "text": "has sent"
          },
          {
            "id": "c",
            "text": "had send"
          },
          {
            "id": "d",
            "text": "was sending"
          }
        ],
        "correct_answer": "a",
        "explanation": "Past Perfect: had + V3, например had sent. Действие завершилось до другого момента в прошлом.",
        "tags": []
      },
      {
        "id": "q2",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: They had ___ to the office early. (go)",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 2,
        "correct_answer": "gone",
        "explanation": "В Past Perfect нужно had + V3. Причастие II от go — gone.",
        "tags": []
      },
      {
        "id": "q3",
        "type": "mcq_single",
        "prompt": "Выберите правильную форму: I ___ never ___ sushi before that trip.",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had tried"
          },
          {
            "id": "b",
            "text": "have tried"
          },
          {
            "id": "c",
            "text": "tried"
          },
          {
            "id": "d",
            "text": "was trying"
          }
        ],
        "correct_answer": "a",
        "explanation": "Опыт в прошлом до другого прошлого события выражается Past Perfect: had tried.",
        "tags": []
      },
      {
        "id": "q4",
        "type": "true_false",
        "prompt": "В Past Perfect используется did + V3.",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 1,
        "correct_answer": "false",
        "explanation": "Past Perfect образуется с had + V3, а не с did.",
        "tags": []
      },
      {
        "id": "q5",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"He had went home before it started.\"",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "He had gone home before it started."
          },
          {
            "id": "b",
            "text": "He went home before it started."
          },
          {
            "id": "c",
            "text": "He had go home before it started."
          }
        ],
        "correct_answer": "a",
        "explanation": "В Past Perfect нужна форма V3; правильно: had gone.",
        "tags": []
      },
      {
        "id": "q6",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: She had ___ the keys on the table. (leave)",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 2,
        "correct_answer": "left",
        "explanation": "Past Perfect: had + V3; причастие II от leave — left.",
        "tags": []
      },
      {
        "id": "q7",
        "type": "mcq_single",
        "prompt": "Какое предложение правильно использует Past Perfect?",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "We had finished the test by 3 pm."
          },
          {
            "id": "b",
            "text": "We had finish the test by 3 pm."
          },
          {
            "id": "c",
            "text": "We has finished the test by 3 pm."
          },
          {
            "id": "d",
            "text": "We finished had the test by 3 pm."
          }
        ],
        "correct_answer": "a",
        "explanation": "Правильная форма Past Perfect: had + V3, например had finished.",
        "tags": []
      },
      {
        "id": "q8",
        "type": "true_false",
        "prompt": "Форма Past Perfect одинакова для всех подлежащих.",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Had используется для всех лиц: I/you/he/we/they had + V3.",
        "tags": []
      },
      {
        "id": "q9",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: By 2010, he had ___ three companies. (start)",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 2,
        "correct_answer": "started",
        "explanation": "Действие, завершённое до момента в прошлом, выражается Past Perfect: had started.",
        "tags": []
      },
      {
        "id": "q10",
        "type": "mcq_single",
        "prompt": "Выберите правильную форму: The movie ___ already ___ when we arrived.",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had already started"
          },
          {
            "id": "b",
            "text": "has already started"
          },
          {
            "id": "c",
            "text": "was already started"
          },
          {
            "id": "d",
            "text": "had already start"
          }
        ],
        "correct_answer": "a",
        "explanation": "Для более раннего действия в прошлом нужно had + V3: had already started.",
        "tags": []
      },
      {
        "id": "q11",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"We had not see her before.\"",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "We had not seen her before."
          },
          {
            "id": "b",
            "text": "We did not see her before."
          },
          {
            "id": "c",
            "text": "We had not saw her before."
          }
        ],
        "correct_answer": "a",
        "explanation": "В Past Perfect нужна форма V3: seen.",
        "tags": []
      },
      {
        "id": "q12",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: I was late because I had ___ my alarm. (forget)",
        "theory_block_id": "b1_theory_form_usage",
        "difficulty": 2,
        "correct_answer": "forgotten",
        "explanation": "Более раннее действие в Past Perfect: had forgotten.",
        "tags": []
      },
      {
        "id": "q13",
        "type": "mcq_single",
        "prompt": "Выберите правильную форму: When I arrived, the presentation ___.",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had already finished"
          },
          {
            "id": "b",
            "text": "already finished"
          },
          {
            "id": "c",
            "text": "has finished"
          },
          {
            "id": "d",
            "text": "was finishing"
          }
        ],
        "correct_answer": "a",
        "explanation": "Событие завершилось раньше прихода, поэтому нужен Past Perfect: had already finished.",
        "tags": []
      },
      {
        "id": "q14",
        "type": "true_false",
        "prompt": "Верно или неверно: «In \"She left after she had called him\", Past Perfect shows the earlier action.»",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Звонок произошёл до ухода, поэтому Past Perfect обозначает более раннее событие.",
        "tags": []
      },
      {
        "id": "q15",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: By the time we got to the station, the bus had ___. (leave)",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 2,
        "correct_answer": "left",
        "explanation": "Автобус уехал раньше нашего прихода, поэтому используется Past Perfect.",
        "tags": []
      },
      {
        "id": "q16",
        "type": "mcq_single",
        "prompt": "Какое предложение правильно показывает более раннее действие?",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 3,
        "choices": [
          {
            "id": "a",
            "text": "He apologized because he had broken the vase."
          },
          {
            "id": "b",
            "text": "He apologized because he broke the vase."
          },
          {
            "id": "c",
            "text": "He had apologized because he broke the vase."
          },
          {
            "id": "d",
            "text": "He was apologizing because he had broke the vase."
          }
        ],
        "correct_answer": "a",
        "explanation": "Разбитие вазы произошло до извинения, поэтому верен Past Perfect.",
        "tags": []
      },
      {
        "id": "q17",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"After we had ate, we went for a walk.\"",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "After we had eaten, we went for a walk."
          },
          {
            "id": "b",
            "text": "After we ate, we went for a walk."
          },
          {
            "id": "c",
            "text": "After we had eat, we went for a walk."
          }
        ],
        "correct_answer": "a",
        "explanation": "В Past Perfect нужна форма V3: eaten.",
        "tags": []
      },
      {
        "id": "q18",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: She realized she had ___ the wrong number. (dial)",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 2,
        "correct_answer": "dialed",
        "explanation": "Набор номера произошёл до того, как осознали, поэтому используется Past Perfect.",
        "tags": []
      },
      {
        "id": "q19",
        "type": "mcq_single",
        "prompt": "Выберите лучший вариант: I didn't recognize him because I ___ him before.",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had never met"
          },
          {
            "id": "b",
            "text": "never met"
          },
          {
            "id": "c",
            "text": "have never met"
          },
          {
            "id": "d",
            "text": "was never meeting"
          }
        ],
        "correct_answer": "a",
        "explanation": "То, что не встречали его, раньше, чем не узнали; подходит Past Perfect.",
        "tags": []
      },
      {
        "id": "q20",
        "type": "true_false",
        "prompt": "Верно или неверно: «Past Perfect is always used for both actions in a past sequence.»",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 1,
        "correct_answer": "false",
        "explanation": "Обычно только более раннее действие в Past Perfect; более позднее — в Past Simple.",
        "tags": []
      },
      {
        "id": "q21",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: When the police arrived, the thief had ___. (escape)",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 2,
        "correct_answer": "escaped",
        "explanation": "Побег произошёл до приезда полиции, поэтому используется Past Perfect.",
        "tags": []
      },
      {
        "id": "q22",
        "type": "mcq_single",
        "prompt": "Выберите предложение с правильным порядком действий.",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "By the time she called, I had left."
          },
          {
            "id": "b",
            "text": "By the time she called, I left."
          },
          {
            "id": "c",
            "text": "By the time she called, I have left."
          },
          {
            "id": "d",
            "text": "By the time she called, I was left."
          }
        ],
        "correct_answer": "a",
        "explanation": "Уход произошёл раньше, поэтому требуется Past Perfect.",
        "tags": []
      },
      {
        "id": "q23",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"He was tired because he had work all day.\"",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "He was tired because he had worked all day."
          },
          {
            "id": "b",
            "text": "He was tired because he worked all day."
          },
          {
            "id": "c",
            "text": "He was tired because he had working all day."
          }
        ],
        "correct_answer": "a",
        "explanation": "В Past Perfect нужна форма V3: had worked.",
        "tags": []
      },
      {
        "id": "q24",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: They were surprised because they had ___ the news earlier. (hear)",
        "theory_block_id": "b2_theory_sequence_before_past",
        "difficulty": 2,
        "correct_answer": "heard",
        "explanation": "Новость услышали до удивления, поэтому используется Past Perfect.",
        "tags": []
      },
      {
        "id": "q25",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: By the time the show started, we ___ our seats.",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had taken"
          },
          {
            "id": "b",
            "text": "took"
          },
          {
            "id": "c",
            "text": "have taken"
          },
          {
            "id": "d",
            "text": "were taking"
          }
        ],
        "correct_answer": "a",
        "explanation": "By the time указывает на более раннее завершённое действие, подходит Past Perfect.",
        "tags": []
      },
      {
        "id": "q26",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: She had ___ finished when the bell rang. (only a moment before)",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "correct_answer": "just",
        "explanation": "Just показывает недавнее завершение перед другим прошлым событием.",
        "tags": []
      },
      {
        "id": "q27",
        "type": "true_false",
        "prompt": "Верно или неверно: «Markers like \"already\" and \"by the time\" often signal Past Perfect.»",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Эти маркеры часто показывают, что действие завершилось до момента в прошлом.",
        "tags": []
      },
      {
        "id": "q28",
        "type": "mcq_single",
        "prompt": "Выберите: After he ___ the email, he called me.",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had sent"
          },
          {
            "id": "b",
            "text": "sent"
          },
          {
            "id": "c",
            "text": "has sent"
          },
          {
            "id": "d",
            "text": "was sending"
          }
        ],
        "correct_answer": "a",
        "explanation": "After может вводить более раннее действие в Past Perfect: had sent.",
        "tags": []
      },
      {
        "id": "q29",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: She had never ___ sushi before that trip. (try)",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "correct_answer": "tried",
        "explanation": "Past Perfect с never показывает отсутствие опыта до того момента.",
        "tags": []
      },
      {
        "id": "q30",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"By the time I arrived, they have already left.\"",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "By the time I arrived, they had already left."
          },
          {
            "id": "b",
            "text": "By the time I arrived, they already left."
          },
          {
            "id": "c",
            "text": "By the time I arrived, they had already leave."
          }
        ],
        "correct_answer": "a",
        "explanation": "Момент времени в прошлом, поэтому используем Past Perfect: had left.",
        "tags": []
      },
      {
        "id": "q31",
        "type": "mcq_single",
        "prompt": "Выберите: I called him after I ___ the report.",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had finished"
          },
          {
            "id": "b",
            "text": "finished"
          },
          {
            "id": "c",
            "text": "have finished"
          },
          {
            "id": "d",
            "text": "was finishing"
          }
        ],
        "correct_answer": "a",
        "explanation": "Отчёт был закончен до звонка, поэтому уместен Past Perfect.",
        "tags": []
      },
      {
        "id": "q32",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: He felt calm because he had ___ the exam already. (pass)",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "correct_answer": "passed",
        "explanation": "Already указывает на завершение до другого момента в прошлом.",
        "tags": []
      },
      {
        "id": "q33",
        "type": "true_false",
        "prompt": "Верно или неверно: «With \"before\", Past Perfect is never possible.»",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 1,
        "correct_answer": "false",
        "explanation": "Past Perfect с before подчёркивает более раннее завершение.",
        "tags": []
      },
      {
        "id": "q34",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: She smiled because she ___ the joke already.",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had understood"
          },
          {
            "id": "b",
            "text": "understood"
          },
          {
            "id": "c",
            "text": "has understood"
          },
          {
            "id": "d",
            "text": "was understanding"
          }
        ],
        "correct_answer": "a",
        "explanation": "Понимание произошло до улыбки, поэтому используется Past Perfect.",
        "tags": []
      },
      {
        "id": "q35",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"We arrived after the movie had start already.\"",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "We arrived after the movie had already started."
          },
          {
            "id": "b",
            "text": "We arrived after the movie started already."
          },
          {
            "id": "c",
            "text": "We arrived after the movie had already start."
          }
        ],
        "correct_answer": "a",
        "explanation": "В Past Perfect нужна форма V3: started.",
        "tags": []
      },
      {
        "id": "q36",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: By 8 p.m., they had ___ dinner. (finish)",
        "theory_block_id": "b3_theory_time_markers",
        "difficulty": 2,
        "correct_answer": "finished",
        "explanation": "By + момент в прошлом обычно требует Past Perfect для более раннего действия.",
        "tags": []
      },
      {
        "id": "q37",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: I went back because I had ___ my keys inside. (leave)",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 2,
        "correct_answer": "left",
        "explanation": "Забывание ключей произошло до возвращения, поэтому нужен Past Perfect.",
        "tags": []
      },
      {
        "id": "q38",
        "type": "true_false",
        "prompt": "Если порядок ясен из \"after\", может быть достаточно Past Simple.",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Past Simple возможен, когда порядок очевиден; Past Perfect усиливает акцент.",
        "tags": []
      },
      {
        "id": "q39",
        "type": "mcq_single",
        "prompt": "Какое предложение подчёркивает более раннее завершение?",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "She had cleaned the room before guests arrived."
          },
          {
            "id": "b",
            "text": "She cleaned the room before guests arrived."
          },
          {
            "id": "c",
            "text": "She was cleaning the room before guests arrived."
          },
          {
            "id": "d",
            "text": "She has cleaned the room before guests arrived."
          }
        ],
        "correct_answer": "a",
        "explanation": "Past Perfect подчёркивает, что уборка была закончена до прихода.",
        "tags": []
      },
      {
        "id": "q40",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"He said he has finished the project.\"",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "He said he had finished the project."
          },
          {
            "id": "b",
            "text": "He said he finished the project."
          },
          {
            "id": "c",
            "text": "He said he had finish the project."
          }
        ],
        "correct_answer": "a",
        "explanation": "В косвенной речи о прошлом более раннее действие в Past Perfect: had finished.",
        "tags": []
      },
      {
        "id": "q41",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: I realized I had ___ the wrong file. (open)",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 2,
        "correct_answer": "opened",
        "explanation": "Открытие произошло до того, как осознали, поэтому используется Past Perfect.",
        "tags": []
      },
      {
        "id": "q42",
        "type": "mcq_single",
        "prompt": "Выберите правильную форму: When we got there, the store ___.",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had closed"
          },
          {
            "id": "b",
            "text": "closed"
          },
          {
            "id": "c",
            "text": "has closed"
          },
          {
            "id": "d",
            "text": "was closing"
          }
        ],
        "correct_answer": "a",
        "explanation": "Магазин закрылся раньше, чем мы пришли, поэтому подходит Past Perfect.",
        "tags": []
      },
      {
        "id": "q43",
        "type": "true_false",
        "prompt": "Верно или неверно: «Past Perfect is required in every past narrative sentence.»",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 1,
        "correct_answer": "false",
        "explanation": "Past Perfect нужен только для более ранних событий; в повествовании чаще Past Simple.",
        "tags": []
      },
      {
        "id": "q44",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"She was upset because she lost her passport earlier.\"",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "She was upset because she had lost her passport earlier."
          },
          {
            "id": "b",
            "text": "She was upset because she lost her passport earlier."
          },
          {
            "id": "c",
            "text": "She was upset because she had lose her passport earlier."
          }
        ],
        "correct_answer": "a",
        "explanation": "Потеря произошла до расстройства, поэтому Past Perfect выражает это яснее.",
        "tags": []
      },
      {
        "id": "q45",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: He apologized because he had ___ me the wrong information. (give)",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 2,
        "correct_answer": "given",
        "explanation": "Передача неверной информации произошла раньше, поэтому используется Past Perfect.",
        "tags": []
      },
      {
        "id": "q46",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: I didn't know the answer because I ___ the lesson.",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had missed"
          },
          {
            "id": "b",
            "text": "missed"
          },
          {
            "id": "c",
            "text": "have missed"
          },
          {
            "id": "d",
            "text": "was missing"
          }
        ],
        "correct_answer": "a",
        "explanation": "Пропуск урока произошёл до незнания ответа, поэтому используется Past Perfect.",
        "tags": []
      },
      {
        "id": "q47",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"After I had finished, I had went home.\"",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "After I had finished, I went home."
          },
          {
            "id": "b",
            "text": "After I had finished, I had gone home."
          },
          {
            "id": "c",
            "text": "After I finished, I had went home."
          }
        ],
        "correct_answer": "a",
        "explanation": "Только более раннее действие в Past Perfect; более позднее — в Past Simple.",
        "tags": []
      },
      {
        "id": "q48",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: She was nervous because she had never ___ in public. (speak)",
        "theory_block_id": "b4_theory_contrast_past_simple",
        "difficulty": 3,
        "correct_answer": "spoken",
        "explanation": "Отсутствие опыта до того момента: Past Perfect — had never spoken.",
        "tags": []
      },
      {
        "id": "q49",
        "type": "mcq_single",
        "prompt": "Выберите правильный вопрос: ___ you ___ the report before the meeting?",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "Had / finished"
          },
          {
            "id": "b",
            "text": "Did / had finished"
          },
          {
            "id": "c",
            "text": "Had / finish"
          },
          {
            "id": "d",
            "text": "Have / finished"
          }
        ],
        "correct_answer": "a",
        "explanation": "В вопросе в Past Perfect: Had + подлежащее + V3.",
        "tags": []
      },
      {
        "id": "q50",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: He had not ___ the contract before he signed it. (читать)",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 2,
        "correct_answer": "read",
        "explanation": "Отрицание в Past Perfect: had not + V3.",
        "tags": []
      },
      {
        "id": "q51",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"Did he had seen her before?\"",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "Had he seen her before?"
          },
          {
            "id": "b",
            "text": "Did he see her before?"
          },
          {
            "id": "c",
            "text": "Had he saw her before?"
          }
        ],
        "correct_answer": "a",
        "explanation": "В вопросе в Past Perfect: Had + подлежащее + V3; did не используется.",
        "tags": []
      },
      {
        "id": "q52",
        "type": "true_false",
        "prompt": "Верно или неверно: «In Past Perfect questions we use \"had\" for all persons.»",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Had не меняется в зависимости от подлежащего в Past Perfect.",
        "tags": []
      },
      {
        "id": "q53",
        "type": "mcq_single",
        "prompt": "Выберите правильное отрицание: They ___ arrived when I called.",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "hadn't"
          },
          {
            "id": "b",
            "text": "didn't had"
          },
          {
            "id": "c",
            "text": "haven't"
          },
          {
            "id": "d",
            "text": "weren't"
          }
        ],
        "correct_answer": "a",
        "explanation": "Отрицание в Past Perfect: hadn't + V3 (hadn't arrived).",
        "tags": []
      },
      {
        "id": "q54",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: Had you ___ the keys before you left? (find)",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 2,
        "correct_answer": "found",
        "explanation": "В вопросе в Past Perfect: had + V3, например found.",
        "tags": []
      },
      {
        "id": "q55",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"She hadn't went to the office before.\"",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "She hadn't gone to the office before."
          },
          {
            "id": "b",
            "text": "She didn't go to the office before."
          },
          {
            "id": "c",
            "text": "She hadn't go to the office before."
          }
        ],
        "correct_answer": "a",
        "explanation": "В Past Perfect нужна форма V3: gone.",
        "tags": []
      },
      {
        "id": "q56",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: I wondered why she ___ me earlier.",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "hadn't called"
          },
          {
            "id": "b",
            "text": "didn't had called"
          },
          {
            "id": "c",
            "text": "hasn't called"
          },
          {
            "id": "d",
            "text": "wasn't calling"
          }
        ],
        "correct_answer": "a",
        "explanation": "Более раннее отсутствие звонка: Past Perfect — hadn't called.",
        "tags": []
      },
      {
        "id": "q57",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: We had never ___ such a view before. (see)",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 2,
        "correct_answer": "seen",
        "explanation": "Past Perfect с never: had + V3, например had never seen.",
        "tags": []
      },
      {
        "id": "q58",
        "type": "true_false",
        "prompt": "Верно или неверно: «For negative Past Perfect we use hadn't + V2.»",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 1,
        "correct_answer": "false",
        "explanation": "Отрицание в Past Perfect: hadn't + V3, а не V2.",
        "tags": []
      },
      {
        "id": "q59",
        "type": "mcq_single",
        "prompt": "Выберите правильный вопрос: ___ they ever ___ the museum before the renovation?",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "Had / visited"
          },
          {
            "id": "b",
            "text": "Did / had visited"
          },
          {
            "id": "c",
            "text": "Have / visited"
          },
          {
            "id": "d",
            "text": "Had / visit"
          }
        ],
        "correct_answer": "a",
        "explanation": "В вопросе в Past Perfect: Had + подлежащее + V3.",
        "tags": []
      },
      {
        "id": "q60",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"Had you finished? No, I haven't.\"",
        "theory_block_id": "b5_theory_questions_negatives",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "Had you finished? No, I hadn't."
          },
          {
            "id": "b",
            "text": "Did you finish? No, I hadn't."
          },
          {
            "id": "c",
            "text": "Had you finished? No, I didn't."
          }
        ],
        "correct_answer": "a",
        "explanation": "Краткий отрицательный ответ на вопрос в Past Perfect: hadn't.",
        "tags": []
      },
      {
        "id": "q61",
        "type": "mcq_single",
        "prompt": "Выберите лучший вариант: She moved to Berlin in 2018. She ___ German for years before that.",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had studied"
          },
          {
            "id": "b",
            "text": "studied"
          },
          {
            "id": "c",
            "text": "has studied"
          },
          {
            "id": "d",
            "text": "was studying"
          }
        ],
        "correct_answer": "a",
        "explanation": "Past Perfect показывает более раннее фоновое действие: had studied.",
        "tags": []
      },
      {
        "id": "q62",
        "type": "true_false",
        "prompt": "Верно или неверно: «Past Perfect often introduces background events in stories.»",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Он обозначает более ранние события относительно основной линии прошлого.",
        "tags": []
      },
      {
        "id": "q63",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: He told me he had ___ the job the year before. (get)",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 2,
        "correct_answer": "gotten",
        "explanation": "Получение работы произошло раньше, чем рассказ о ней, поэтому Past Perfect.",
        "tags": []
      },
      {
        "id": "q64",
        "type": "mcq_single",
        "prompt": "Выберите правильную форму: The movie started. I ___ my seat already.",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had found"
          },
          {
            "id": "b",
            "text": "found"
          },
          {
            "id": "c",
            "text": "have found"
          },
          {
            "id": "d",
            "text": "was finding"
          }
        ],
        "correct_answer": "a",
        "explanation": "Поиск места произошёл раньше начала фильма, поэтому подходит Past Perfect.",
        "tags": []
      },
      {
        "id": "q65",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"She said she has met him once before.\"",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "She said she had met him once before."
          },
          {
            "id": "b",
            "text": "She said she met him once before."
          },
          {
            "id": "c",
            "text": "She said she had meet him once before."
          }
        ],
        "correct_answer": "a",
        "explanation": "В косвенной речи о прошлом более раннее событие в Past Perfect: had met.",
        "tags": []
      },
      {
        "id": "q66",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: By the time we spoke, he had ___ the decision. (make)",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 2,
        "correct_answer": "made",
        "explanation": "Решение было принято до разговора, поэтому используется Past Perfect.",
        "tags": []
      },
      {
        "id": "q67",
        "type": "true_false",
        "prompt": "Верно или неверно: «In biographies, Past Perfect can show actions completed before a key year.»",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 1,
        "correct_answer": "true",
        "explanation": "Он подчёркивает более ранние фоновые события до основной линии прошлого.",
        "tags": []
      },
      {
        "id": "q68",
        "type": "mcq_single",
        "prompt": "Выберите правильный вариант: I remembered that I ___ my passport at home.",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "had left"
          },
          {
            "id": "b",
            "text": "left"
          },
          {
            "id": "c",
            "text": "have left"
          },
          {
            "id": "d",
            "text": "was leaving"
          }
        ],
        "correct_answer": "a",
        "explanation": "Забытие паспорта произошло до воспоминания о нём, поэтому Past Perfect.",
        "tags": []
      },
      {
        "id": "q69",
        "type": "error_spotting",
        "prompt": "Найдите ошибку и выберите исправленное предложение: \"They were excited because they had win the prize earlier.\"",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "They were excited because they had won the prize earlier."
          },
          {
            "id": "b",
            "text": "They were excited because they won the prize earlier."
          },
          {
            "id": "c",
            "text": "They were excited because they had winning the prize earlier."
          }
        ],
        "correct_answer": "a",
        "explanation": "В Past Perfect нужна форма V3: won.",
        "tags": []
      },
      {
        "id": "q70",
        "type": "fill_blank",
        "prompt": "Вставьте пропущенное: She joined the company in 2020, after she had ___ from university. (graduate)",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 2,
        "correct_answer": "graduated",
        "explanation": "Окончание университета произошло до прихода в компанию, поэтому Past Perfect.",
        "tags": []
      },
      {
        "id": "q71",
        "type": "mcq_single",
        "prompt": "Выберите правильную форму: The lights went out. We realized we ___ the bill.",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 2,
        "choices": [
          {
            "id": "a",
            "text": "hadn't paid"
          },
          {
            "id": "b",
            "text": "didn't pay"
          },
          {
            "id": "c",
            "text": "haven't paid"
          },
          {
            "id": "d",
            "text": "weren't paying"
          }
        ],
        "correct_answer": "a",
        "explanation": "Неоплата произошла до отключения света, поэтому подходит Past Perfect.",
        "tags": []
      },
      {
        "id": "q72",
        "type": "true_false",
        "prompt": "Верно или неверно: «Past Perfect is used to talk about a future plan.»",
        "theory_block_id": "b6_theory_narrative_context",
        "difficulty": 1,
        "correct_answer": "false",
        "explanation": "Past Perfect относится только к прошлым событиям и их порядку.",
        "tags": []
      }
    ]
  },
  "chapter_test": {
    "num_questions": 10,
    "pool_question_ids": [
      "q3",
      "q4",
      "q5",
      "q6",
      "q7",
      "q8",
      "q9",
      "q10",
      "q11",
      "q12",
      "q15",
      "q16",
      "q17",
      "q18",
      "q19",
      "q20",
      "q21",
      "q22",
      "q23",
      "q24",
      "q27",
      "q28",
      "q29",
      "q30",
      "q31",
      "q32",
      "q33",
      "q34",
      "q35",
      "q36",
      "q39",
      "q40",
      "q41",
      "q42",
      "q43",
      "q44",
      "q45",
      "q46",
      "q47",
      "q48",
      "q51",
      "q52",
      "q53",
      "q54",
      "q55",
      "q56",
      "q57",
      "q58",
      "q59",
      "q60",
      "q63",
      "q64",
      "q65",
      "q66",
      "q67",
      "q68",
      "q69",
      "q70",
      "q71",
      "q72"
    ],
    "selection_strategy": {
      "type": "stratified_by_theory_block",
      "min_per_theory_block": 1,
      "avoid_recent_window": 30,
      "difficulty_mix": {
        "easy": 3,
        "medium": 5,
        "hard": 2
      }
    }
  },
  "meta": {
    "version": "2026.01.16",
    "updated_at": "2026-01-21T16:44:53Z",
    "source": "llm"
  }
}
