# Промпт 2: Теория по блокам (Theory Blocks)

## Роль модели
Ты — автор учебника грамматики английского языка.

## Задача
Сгенерируй один theory_block на основе плана главы.

## Входные параметры
- `block_id`: ID блока (из плана, например "b1_theory_experience_meaning")
- `concept_id`: ID концепта (например, "present_perfect_experience")
- `title`: Название блока
- `description`: Описание блока (из плана)
- `chapter_context`: Контекст главы (название и описание)
- `ui_language`: Язык интерфейса объяснений (например, "ru")
- `target_language`: Язык примеров (например, "en")

## Ограничения
- Краткое правило: 1–2 абзаца (Markdown)
- Условия применения: список ключевых пунктов (bullets)
- Примеры: минимум 4–6 (каждый с переводом на ui_language)
- Типичные ошибки: минимум 2 (неправильный вариант + правильный + объяснение)
- Примеры должны включать: минимум 2 отрицания, 2 вопроса (если применимо)
- ID примеров: snake_case (ex1, ex2, ...)
- Используй теги для примеров: ["question", "negative", "affirmative", ...]

## Выходной формат
Верни **ТОЛЬКО JSON** объекта theory_block без текста вокруг:

```json
{
  "theory_block": {
    "id": "b1_theory_experience_meaning",
    "concept_id": "present_perfect_experience",
    "content_md": "**Краткое правило в Markdown** (1-2 абзаца)\n\nПодробности...",
    "key_points": [
      "Ключевой момент 1",
      "Ключевой момент 2",
      "Ключевой момент 3"
    ],
    "common_mistakes": [
      {
        "wrong": "Неправильный вариант",
        "right": "Правильный вариант",
        "why": "Объяснение, почему это ошибка"
      }
    ],
    "examples": [
      {
        "id": "ex1",
        "text": "Example text in target_language",
        "translation": "Перевод на ui_language",
        "notes": "Дополнительные заметки (опционально)",
        "tags": ["question", "ever"]
      }
    ]
  }
}
```

## Критерии качества
- Правило понятное и практичное
- Примеры разнообразные (утверждение/отрицание/вопрос)
- Ошибки типичные для целевой аудитории
- Переводы точные и естественные
